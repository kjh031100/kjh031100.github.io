---
title: Vite 개발 환경에서 CLI 인수를 통해 동적으로 index.html의 src 설정하기
date: 2023-09-03 20:00:00 +0900
categories:
  - JavaScript
tags:
  - Vite개발
  - CLI인수
  - src설정
---

## 문제 개요

Vite를 사용하면서 `index.html`의 `src` 속성을 CLI(Command Line Interface) 인수를 통해 동적으로 설정하는 방법, 이는 웹 개발을 할 때 자주 발생할 수 있는 문제이며, 이 문제를 해결하면 다양한 설정이나 환경에 더 쉽게 대응할 수 있습니다.

## 에러 코드

에러 코드는 직접적으로 언급되지 않았으나, 주로 이와 관련된 에러는 `Invalid Argument Error`나 `Configuration Error` 형태로 발생할 수 있습니다.

## 해결 방안 1: Vite 플러그인 사용하기

Vite는 다양한 플러그인을 지원합니다. 이를 통해 CLI 인수에 따라 `index.html`의 `src` 속성을 변경할 수 있습니다. 플러그인을 작성하면서 `configureServer` 메서드를 사용하면 서버 설정을 동적으로 변경할 수 있습니다. 이렇게 하면 다양한 환경에 유연하게 대응할 수 있습니다.

## 해결 방안 2: 환경 변수 사용하기

환경 변수는 프로그램이 실행될 때 설정할 수 있는 변수입니다. Vite는 `.env` 파일을 통해 환경 변수를 관리할 수 있습니다. 이 파일에 변수를 설정하고, `vite.config.js`에서 이 변수를 읽어 `index.html`의 `src` 속성을 설정할 수 있습니다.

## 해결 방안 3: 스크립트 작성하기

`package.json` 파일에서 스크립트를 설정하여 CLI 인수를 받을 수 있습니다. 받은 인수는 Node.js 스크립트에서 `process.argv`를 통해 접근할 수 있습니다. 이 스크립트 내에서 `fs` 모듈을 사용해 `index.html`을 동적으로 수정할 수 있습니다.

## 결론

CLI 인수를 통해 Vite의 `index.html` `src` 속성을 동적으로 설정하는 것은 여러 방법으로 가능합니다. 플러그인 사용, 환경 변수 설정, 직접 스크립트를 작성하는 등의 방법이 있으며, 각 방법은 특정 상황에 더 적합할 수 있습니다. 이를 통해 웹 개발 프로젝트가 다양한 환경과 요구사항에 더 유연하게 대응할 수 있습니다.